<div class="card-header text-center">
  <h3><i class="fas fa-user mt-2"></i> User</h3>
</div>
<div class="card-body">
  <div class="p-4">
    <ul class="list-unstyled">
      <li>
        <span class="fw-bold text-muted" style="overflow: auto; white-space: nowrap;">
          <i class="fas fa-pencil-alt me-1"></i> Username
        </span>: Minimum length of 4 characters, maximum of 20 characters.
      </li>
      <li>
        <span class="fw-bold text-muted" style="overflow: auto; white-space: nowrap;">
          <i class="fas fa-pencil-alt me-1"></i> Password
        </span>: Minimum length of 8 characters, maximum of 20 characters..
      </li>
    </ul>
  </div>

  <form [formGroup]="updateUserForm" (ngSubmit)="onUserSubmit()">
    <div class="form-group text-start mt-3">
      <label for="username" class="fw-semibold mb-1">Username</label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <i class="fas fa-user"></i>
          </span>
        </div>
        <input type="text"
               id="username"
               [ngClass]="{'is-invalid': hasUserError('username')}"
               class="form-control input"
               formControlName="username"
               placeholder="Enter a username..."  />
      </div>
      <small *ngIf="hasUserError('username', 'required')" class="text-danger">
        Username is required!
      </small>
      <small *ngIf="hasUserError('username', 'minlength')" class="text-danger">
        Username length can't be less than 4 characters.
      </small>
      <small *ngIf="hasUserError('username', 'maxlength')" class="text-danger">
        Username length can't be more than 20 characters.
      </small>
      <small *ngIf="hasUserError('username', 'usernameExists')" class="text-danger">
        Username is taken.
      </small>
    </div>

    <div class="form-group text-start mt-3">
      <label for="password" class="fw-semibold mb-1">Password</label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <i class="fa-solid fa-key"></i>
          </span>
        </div>
        <input type="password"
               id="password"
               [ngClass]="{'is-invalid': hasUserError('password')}"
               class="form-control input"
               formControlName="password"
               placeholder="Enter a password..." />
      </div>
      <small *ngIf="hasUserError('password', 'minlength')" class="text-danger">
        Password length can't be less than 8 characters.
      </small>
      <small *ngIf="hasUserError('password', 'maxlength')" class="text-danger">
        Password length can't be more than 20 characters.
      </small>
    </div>

    <div class="form-group text-start mt-3">
      <label for="confirmPassword" class="fw-semibold mb-1">Confirm Password</label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <i class="fa-solid fa-key"></i>
          </span>
        </div>
        <input type="password"
               id="confirmPassword"
               [ngClass]="{'is-invalid': hasUserError('confirmPassword')}"
               class="form-control input"
               formControlName="confirmPassword"
               rows="3"
               placeholder="Confirm password..." />
      </div>
      <small *ngIf="hasUserError('confirmPassword', 'match')" class="text-danger">
        Passwords do not match.
      </small>
    </div>
    <button type="submit" class="btn btn-primary mt-3 me-2">Confirm</button>
    <a [routerLink]="['/profile']" class="btn btn-outline-primary mt-3">Cancel</a>
  </form>
</div>

<div class="card-header text-center">
  <h3><i class="fa-solid fa-id-card mt-2"></i> Profile</h3>
</div>


<div class="card-body">
  <div class="p-4">
    <ul class="list-unstyled">
      <li>
        <span class="fw-bold text-muted" style="overflow: auto; white-space: nowrap;">
          <i class="fas fa-pencil-alt me-1"></i> Bio
        </span>: Minimum length of 4 characters, maximum of 300 characters. If left empty, it defaults to "No Bio".
      </li>
    </ul>
  </div>

  <form [formGroup]="updateProfileForm" (ngSubmit)="onProfileSubmit()">
    <div class="form-group text-start mt-3">
      <label for="bio" class="fw-semibold mb-1">Bio</label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <i class="fa-solid fa-id-card"></i>
          </span>
        </div>
        <textarea id="bio"
                  [ngClass]="{'is-invalid': hasProfileError('bio')}"
                  class="form-control input"
                  formControlName="bio"
                  rows="3"
                  placeholder="Enter a Bio...">
        </textarea>
      </div>

      <small *ngIf="hasProfileError('bio', 'minlength')" class="text-danger">
        Bio length can't be less than 4, if not left empty.
      </small>
      <small *ngIf="hasProfileError('bio', 'maxlength')" class="text-danger">
        Bio length can't be more than 300.
      </small>
    </div>
    <button type="submit" class="btn btn-primary mt-3 me-2">Confirm</button>
    <a [routerLink]="['/profile']" class="btn btn-outline-primary mt-3">Cancel</a>
  </form>
</div>



